<html>
    <head>
        <title>smartpad / 設定</title>
        <link rel="manifest" href="./manifest.json">
        <link rel=”icon” href=“./portapad_icon.png”>
        <link rel="stylesheet" href="./style.css">
        <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
    </head>
    <body>
        <h1>設定</h1>
        <a href="../index.html">トップへ戻る</a>
        <div>
            <label for="websocketaddress">ホストPCID: </label>
            <input id="websocketaddress" type="text" name="websocketaddress" placeholder="ホストPCのコードを入力">    
        </div>
        <div>
            <label for="fileInput">背景画像を選択: </label>
            <input type="file" id="fileInput">
        </div>
        <footer>
            <button onclick="window.location.href = './index.html';">もとに戻す</button>
            <button onclick="Save();">保存</button>
        </footer>
        <script>
            function Save(){
                var websocketaddress = document.getElementById("websocketaddress").value;
                if(websocketaddress != ""){
                    localStorage.setItem("websocketaddress", websocketaddress);
                }
                window.location.href = '../index.html';
            }

            const fileInput = document.getElementById('fileInput');
            fileInput.addEventListener('change', (event) => {
            const file = event.target.files[0];
            const reader = new FileReader();
            reader.onload = () => {
                document.body.style.backgroundImage = `url(${reader.result})`;
            };
            reader.readAsDataURL(file);
            });
        </script>
    </body>
</html>
